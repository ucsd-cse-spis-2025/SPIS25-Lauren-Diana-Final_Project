<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ stock_name }} Prediction</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="icon" href="{{ url_for('static', filename='favicon.jpg') }}" type="image/jpg">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
  <!-- displays and gets prediction and confidence & displays pop up with extra information-->
  <div class="container text-center mt-5">
    <h1>{{ stock_name }} Prediction</h1>
    <h3>
      {% if prediction == "UP" %}
        <span class="badge bg-success p-3">
          Prediction
          <span class="popup" onclick="togglePopup('popupPrediction')">ⓘ
            <span class="popuptext" id="popupPrediction">This prediction tells you whether today's closing stock price is expected to be higher or lower than yesterday's close.</span>
          : {{ prediction }}
          <br><br>
          Confidence
          <span class="popup" onclick="togglePopup('popupConfidence')">ⓘ
            <span class="popuptext" id="popupConfidence">This confidence score represents the model's certainty in its prediction based on the data provided. A higher value means more certainty, but it is not a guarantee.</span>
          </span>
          : {{ confidence }}
        </span>
      {% else %}
        <span class="badge bg-danger p-3">
          Prediction
          <span class="popup" onclick="togglePopup('popupPrediction')">ⓘ
            <span class="popuptext" id="popupPrediction">This is the prediction for today's closing stock price relative to yesterday.</span>
          </span>
          : {{ prediction }}
          <br><br>
          Confidence
          <span class="popup" onclick="togglePopup('popupConfidence')">ⓘ
            <span class="popuptext" id="popupConfidence">This is the probability that this prediction is correct.</span>
          </span>
          : {{ confidence }}
        </span>
      {% endif %}
    </h3>

    <div class="mt-4">
      <a href="/predict" class="btn btn-secondary btn-lg">Back to Stock Selection</a>
    </div>
  </div>

  <script>
    function togglePopup(id) {
    var popup = document.getElementById(id);
    popup.classList.toggle("show");
    }
  </script> 

  <script src="{{ url_for('static', filename='slide.js') }}"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
